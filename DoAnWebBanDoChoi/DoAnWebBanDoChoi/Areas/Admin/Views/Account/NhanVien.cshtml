@model List<DoAnWebBanDoChoi.Models.NguoiDung>

<div class="container-fluid pt-4 px-4">
    <div class="bg-white rounded shadow p-4 border">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="fw-bold text-primary mb-0">Quản lý tài khoản nhân viên</h5>
            <div>
                <a asp-action="Create" class="btn btn-primary">
                    <i class="fa fa-plus me-1"></i> Thêm tài khoản
                </a>
            </div>
        </div>

        <table class="table table-bordered table-striped table-hover align-middle">
            <thead class="table-primary text-center">
                <tr>
                    <th>#</th>
                    <th>Tên đăng nhập</th>
                    <th>Tên hiện thị</th>
                    <th>Email</th>
                    <th>Hiệu lực</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var nd in Model)
                {
                    <tr>
                        <td class="text-center">@nd.MaNd</td>
                        <td>@nd.TenDangNhap</td>
                        <td>@nd.HoTenHienThi</td>
                        <td>@nd.Email</td>
                        <td class="text-center">
                            <span class="badge @(nd.HieuLuc ? "bg-success" : "bg-danger")">
                                @(nd.HieuLuc ? "Đang hoạt động" : "Đã khóa")
                            </span>
                        </td>

                        <td class="text-center">
                            <form asp-area="Admin" asp-controller="Account" asp-action="ToggleHieuLucNhanVien" method="post" onsubmit="return confirm('Bạn có chắc muốn thay đổi trạng thái của tài khoản @nd.TenDangNhap không?');">
                                <input type="hidden" name="id" value="@nd.MaNd" />

                                <button type="submit"
                                        class="btn btn-sm @(nd.HieuLuc ? "btn-warning" : "btn-success")"
                                        title="@(nd.HieuLuc ? "Khóa tài khoản" : "Mở khóa tài khoản")">

                                    @if (nd.HieuLuc)
                                    {
                                        <i class="fas fa-lock">&nbsp;Khóa</i>
                                    }
                                    else
                                    {
                                        <i class="fas fa-unlock-alt">&nbsp;Mở</i>
                                    }
                                </button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>